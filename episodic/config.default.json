{
  "_comment_core": "// === CORE SETTINGS ===",
  "_comment_active_prompt": "The active system prompt template to use for conversations",
  "active_prompt": "default",
  "_comment_debug": "Enable debug output for troubleshooting (shows topic detection details, etc.)",
  "debug": false,
  "_comment_show_cost": "Display token usage and cost information after each response",
  "show_cost": false,
  "_comment_show_drift": "Show semantic drift scores during topic detection",
  "show_drift": true,
  "_comment_topic": "// === TOPIC DETECTION SETTINGS ===",
  "_comment_automatic_topic_detection": "Enable automatic topic detection during conversations",
  "automatic_topic_detection": true,
  "_comment_auto_compress_topics": "Automatically compress topics when they end (reduces context size)",
  "auto_compress_topics": true,
  "_comment_min_messages_before_topic_change": "Minimum user messages required before allowing a topic change",
  "min_messages_before_topic_change": 8,
  "_comment_running_topic_guess": "Show topic predictions in responses (not yet implemented)",
  "running_topic_guess": true,
  "_comment_show_topics": "Display topic evolution information in responses",
  "show_topics": false,
  "_comment_analyze_topic_boundaries": "Analyze recent messages to find precise topic boundaries when topic changes",
  "analyze_topic_boundaries": false,
  "_comment_use_llm_boundary_analysis": "Use LLM for boundary analysis instead of heuristics (more accurate but costs tokens)",
  "use_llm_boundary_analysis": false,
  "_comment_manual_index_window_size": "Default sliding window size for manual topic indexing with /index command",
  "manual_index_window_size": 3,
  "_comment_manual_index_threshold": "Drift score threshold for detecting topic boundaries (0.0-1.0, higher = more sensitive)",
  "manual_index_threshold": 0.75,
  "_comment_hybrid": "// === HYBRID TOPIC DETECTION ===",
  "_comment_use_hybrid_topic_detection": "Use multi-signal topic detection (combines drift, keywords, gaps, etc.)",
  "use_hybrid_topic_detection": false,
  "_comment_use_sliding_window_detection": "Use sliding window detection (compares groups of messages)",
  "use_sliding_window_detection": true,
  "_comment_sliding_window_size": "Size of sliding windows for topic detection",
  "sliding_window_size": 3,
  "_comment_hybrid_topic_weights": "Weight distribution for hybrid detection signals (must sum to 1.0)",
  "hybrid_topic_weights": {
    "semantic_drift": 0.6,
    "keyword_explicit": 0.25,
    "keyword_domain": 0.1,
    "message_gap": 0.025,
    "conversation_flow": 0.025
  },
  "_comment_hybrid_topic_threshold": "Overall threshold for hybrid topic change detection (0.0-1.0)",
  "hybrid_topic_threshold": 0.55,
  "_comment_hybrid_llm_threshold": "Threshold below which to use LLM fallback for confirmation",
  "hybrid_llm_threshold": 0.3,
  "_comment_drift_threshold": "Threshold for sliding window detection (0.9+ indicates topic change)",
  "drift_threshold": 0.9,
  "_comment_keyword_threshold": "Threshold for keyword-based topic detection",
  "keyword_threshold": 0.5,
  "_comment_streaming": "// === STREAMING SETTINGS ===",
  "_comment_stream_responses": "Enable streaming responses for better user experience",
  "stream_responses": true,
  "_comment_stream_rate": "Words per second for constant-rate streaming",
  "stream_rate": 15,
  "_comment_stream_constant_rate": "Use constant rate streaming instead of token-based streaming",
  "stream_constant_rate": false,
  "_comment_stream_natural_rhythm": "Add natural pauses and rhythm to streaming (commas, periods, etc.)",
  "stream_natural_rhythm": true,
  "_comment_stream_char_mode": "Stream character by character instead of word by word",
  "stream_char_mode": false,
  "_comment_stream_char_rate": "Characters per second for character-mode streaming",
  "stream_char_rate": 1000,
  "_comment_stream_line_delay": "Delay in seconds between lines when streaming",
  "stream_line_delay": 0.1,
  "_comment_models": "// === MODEL PARAMETERS ===",
  "_comment_main_params": "Parameters for main conversation with LLM",
  "main_params": {
    "temperature": 0.7,
    "max_tokens": null,
    "top_p": 1.0,
    "presence_penalty": 0.0,
    "frequency_penalty": 0.0,
    "stop": []
  },
  "_comment_topic_params": "Parameters for topic detection (lower temp for consistency)",
  "topic_params": {
    "temperature": 0.3,
    "max_tokens": 50,
    "top_p": 0.9,
    "presence_penalty": 0.0,
    "frequency_penalty": 0.0,
    "stop": []
  },
  "_comment_compression_params": "Parameters for compression/summarization",
  "compression_params": {
    "temperature": 0.5,
    "max_tokens": 500,
    "top_p": 1.0,
    "presence_penalty": 0.1,
    "frequency_penalty": 0.1,
    "stop": []
  },
  "_comment_cache": "// === CACHING & PERFORMANCE ===",
  "_comment_use_context_cache": "Use context caching to reduce API costs (when supported by provider)",
  "use_context_cache": true,
  "_comment_benchmark": "Enable performance benchmarking",
  "benchmark": false,
  "_comment_benchmark_display": "Display benchmark results after commands",
  "benchmark_display": false,
  "_comment_compression": "// === COMPRESSION SETTINGS ===",
  "_comment_compression_model": "Model to use for topic compression (instruct models recommended)",
  "compression_model": "ollama/phi3",
  "_comment_compression_min_nodes": "Minimum nodes required before allowing compression",
  "compression_min_nodes": 10,
  "_comment_show_compression_notifications": "Show notifications when topics are compressed",
  "show_compression_notifications": true,
  "_comment_models_detect": "// === MODEL SELECTION ===",
  "_comment_topic_detection_model": "Model to use for topic detection (instruct models recommended)",
  "topic_detection_model": "ollama/phi3",
  "_comment_model": "Current conversation model (set via /model command)",
  "model": null,
  "_comment_synthesis_model": "Model to use for web search synthesis (instruct models recommended)",
  "synthesis_model": "ollama/phi3",
  "_comment_display": "// === DISPLAY SETTINGS ===",
  "_comment_color_mode": "Color mode: none, basic, or full",
  "color_mode": "full",
  "_comment_text_wrap": "Enable text wrapping for long lines",
  "text_wrap": true,
  "_comment_context_depth": "Default context depth for building conversation history",
  "context_depth": 5,
  "_comment_rag": "// === RAG (RETRIEVAL AUGMENTED GENERATION) ===",
  "_comment_rag_enabled": "Enable RAG for enhanced responses with external knowledge",
  "rag_enabled": false,
  "_comment_rag_auto_search": "Automatically search knowledge base for each user message",
  "rag_auto_search": true,
  "_comment_rag_search_threshold": "Minimum relevance score for including search results (0.0-1.0)",
  "rag_search_threshold": 0.7,
  "_comment_rag_max_results": "Maximum number of search results to include in context",
  "rag_max_results": 5,
  "_comment_rag_embedding_model": "Sentence transformer model for creating embeddings",
  "rag_embedding_model": "all-MiniLM-L6-v2",
  "_comment_rag_include_citations": "Include source citations in LLM responses",
  "rag_include_citations": true,
  "_comment_rag_context_prefix": "Text added before RAG context in prompts",
  "rag_context_prefix": "\n\n[Relevant context from knowledge base]:\n",
  "_comment_rag_chunk_size": "Number of words per document chunk when indexing",
  "rag_chunk_size": 500,
  "_comment_rag_chunk_overlap": "Number of overlapping words between chunks",
  "rag_chunk_overlap": 100,
  "_comment_rag_max_file_size": "Maximum file size for indexing in bytes (10MB)",
  "rag_max_file_size": 10485760,
  "_comment_rag_show_citations": "Show which documents were used in responses",
  "rag_show_citations": true,
  "_comment_rag_citation_style": "How to display citations: 'inline' or 'footnote'",
  "rag_citation_style": "inline",
  "_comment_rag_allowed_file_types": "Allowed file extensions for indexing",
  "rag_allowed_file_types": [
    ".txt",
    ".md",
    ".pdf",
    ".rst"
  ],
  "_comment_websearch": "// === WEB SEARCH SETTINGS ===",
  "_comment_web_search_enabled": "Enable web search functionality for current information",
  "web_search_enabled": false,
  "_comment_web_search_provider": "Search provider: duckduckgo, searx, google, bing",
  "web_search_provider": "duckduckgo",
  "_comment_web_search_auto_enhance": "Automatically search web when local RAG results are insufficient",
  "web_search_auto_enhance": false,
  "_comment_web_search_cache_duration": "Cache duration for search results in seconds (1 hour)",
  "web_search_cache_duration": 3600,
  "_comment_web_search_max_results": "Maximum number of web results to retrieve",
  "web_search_max_results": 5,
  "_comment_web_search_rate_limit": "Maximum searches allowed per hour (rate limiting)",
  "web_search_rate_limit": 60,
  "_comment_web_search_index_results": "Index web search results into RAG for future use",
  "web_search_index_results": true,
  "_comment_web_search_timeout": "Search timeout in seconds",
  "web_search_timeout": 10,
  "_comment_web_search_require_confirmation": "Ask for confirmation before performing web searches",
  "web_search_require_confirmation": false,
  "_comment_web_search_excluded_domains": "List of domains to exclude from search results",
  "web_search_excluded_domains": [],
  "_comment_web_search_show_urls": "Show URLs in search result display",
  "web_search_show_urls": true,
  "_comment_web_search_extract_content": "Extract actual page content from search results (slower)",
  "web_search_extract_content": false,
  "_comment_web_search_synthesize": "Synthesize search results into comprehensive answer",
  "web_search_synthesize": false,
  "_comment_providers": "// === SEARCH PROVIDER SETTINGS ===",
  "_comment_searx_instance_url": "Searx instance URL (can be self-hosted for privacy)",
  "searx_instance_url": "https://searx.be",
  "_comment_google_api_key": "Google Custom Search API key (or set GOOGLE_API_KEY env var)",
  "google_api_key": null,
  "_comment_google_search_engine_id": "Google Custom Search Engine ID (or set GOOGLE_SEARCH_ENGINE_ID env var)",
  "google_search_engine_id": null,
  "_comment_bing_api_key": "Bing Search API key (or set BING_API_KEY env var)",
  "bing_api_key": null,
  "_comment_bing_endpoint": "Bing Search API endpoint",
  "bing_endpoint": "https://api.bing.microsoft.com/v7.0/search"
}